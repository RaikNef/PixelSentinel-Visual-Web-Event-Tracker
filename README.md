# PixelSentinel — Visual Web Event Tracker

**PixelSentinel** — это демонстрационный инструмент на Python для автоматизированного мониторинга визуальных изменений на веб-странице и структурированного логирования событий.  
Проект сочетает технику промышленной автоматизации (Selenium + WebDriver) и визуальный анализ (Pillow), и может быть использован как учебный кейс для портфолио или как исследовательский инструмент для изучения динамики веб-интерфейсов.

---

## Ключевая идея

Инструмент делает периодические скриншоты страницы в браузере, ищет заданный цветовой паттерн (пиксель/область) и, при совпадении, извлекает данные из DOM (текстовые значения) и логирует их в CSV-файл для дальнейшего анализа.


---

## Фичи

- Headless-запуск Chrome (через Selenium + webdriver-manager).  
- Скриншоты страницы и анализ цвета в выбранной области.  
- Считывание текстовых полей из DOM при найденном событии.  
- Логирование в `data.csv` в формате: `timestamp, multiplier, participants, bet_sum`.  
- Конфигурируемые параметры (URL, селекторы, координаты области, размеры окна, задержки).

---

## Технологии

- Python 3.10+  
- selenium  
- webdriver-manager  
- pillow (PIL)  
- ipython (опционально, для удобного отображения изображений в ноутбуке)

(см. `environment.yml` или установку через `pip`)

---

### Как это работает (технически)

1. Selenium запускает headless Chrome и открывает целевую страницу.

2. Скрипт делает скриншот страницы (```driver.get_screenshot_as_png())```, загружает изображение в Pillow (```Image.open(BytesIO(...))```).

3. ```check_color_in_area()``` проходит по небольшому окну пикселей и сравнивает с целевым цветом с небольшим допуском (± оттены).

4. Если цвет найден — выполняется ```cheker()``` (DOM-парсинг): элементы ищутся через селекторы, извлекается нужный текст (множитель, пользователи, сумма ставок) и записывается в CSV.

5. Скрипт циклично повторяет проверку с настраиваемой задержкой.

---

## Установка

### Через conda
```bash
conda env create -f environment.yml
conda activate site-monitor   # или другое имя окружения
```

### Через pip (venv)
```bash
python -m venv .venv
source .venv/bin/activate      # или .venv\Scripts\activate на Windows
pip install -r requirements.txt
```

## Быстрый запуск
1. В main.py замените URL на тестовый, например:
```python
driver.get("https://example.com/demo")
```
2. При необходимости измените координаты и цвет.

3. Запустите:
```bash
python main.py
```

4. Данные появятся в data.csv:
```makefile
2024-06-30,00:43:35,"1,98",4,"2,06"
```
